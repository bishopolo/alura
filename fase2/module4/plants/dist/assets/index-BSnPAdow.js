(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))t(a);new MutationObserver(a=>{for(const r of a)if(r.type==="childList")for(const s of r.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&t(s)}).observe(document,{childList:!0,subtree:!0});function e(a){const r={};return a.integrity&&(r.integrity=a.integrity),a.referrerPolicy&&(r.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?r.credentials="include":a.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function t(a){if(a.ep)return;a.ep=!0;const r=e(a);fetch(a.href,r)}})();const $=[{id:1,name:"dionaea muscipula",price:"$5",description:"Venus atrapamoscas. Una de las plantas carn√≠voras m√°s populares, con hojas modificadas en forma de trampa que se cierran r√°pidamente al detectar movimiento.",image:"https://res.cloudinary.com/dhvt7ppof/image/upload/v1729899567/dionaea_fnd9ag.png"},{id:2,name:"drosera",price:"$3",description:"Roc√≠o del cabo. Planta con hojas cubiertas de gl√°ndulas pegajosas que atrapan peque√±os insectos.",image:"https://res.cloudinary.com/dhvt7ppof/image/upload/v1729899823/droseraBinata_lj1ifz.png"},{id:3,name:"Pinguicula grandiflora",price:"$4",description:"Grasilla de flor grande. Sus hojas pegajosas atrapan peque√±os insectos que luego son digeridos.",image:"https://res.cloudinary.com/dhvt7ppof/image/upload/v1729900487/pinguicula_ys7lcj.png"},{id:4,name:"Darlingtonia californica",price:"$15",description:"Planta cobra. Planta carn√≠vora con hojas en forma de cobra que atrapan a sus presas en una bolsa llena de l√≠quido.",image:"https://res.cloudinary.com/dhvt7ppof/image/upload/v1729902519/darlingtonia_lbxjr2.png"},{id:5,name:"Sarracenia purpurea",price:"$7",description:"Planta jarro p√∫rpura. Sus hojas modificadas forman jarros llenos de l√≠quido enzim√°tico donde caen los insectos.",image:"https://res.cloudinary.com/dhvt7ppof/image/upload/v1729900093/sarracenia_zsquj0.png"},{id:6,name:"Nepenthes ventrata",price:"$10",description:"Planta jarro tropical. Conocida por sus jarros grandes y coloridos, atrae a insectos con n√©ctar y los ahoga en el l√≠quido digestivo.",image:"https://res.cloudinary.com/dhvt7ppof/image/upload/v1729900249/nepenthes_s4trlc.png"},{id:7,name:"Cephalotus follicularis",price:"$12",description:"Planta jarro australiana. Peque√±a planta carn√≠vora con jarros en forma de capucha que atrapan insectos.",image:"https://res.cloudinary.com/dhvt7ppof/image/upload/v1729902597/Cephalotus_zzlk8m.png"},{id:8,name:"Monstera deliciosa",price:"$8",description:"Planta tropical con hojas grandes y perforadas que a√±aden un toque ex√≥tico a cualquier espacio. F√°cil de cuidar y perfecta para interiores.",image:"https://res.cloudinary.com/dhvt7ppof/image/upload/v1729896654/monstera_npiq3c.png"},{id:9,name:"Philodendron pink",price:"$6",description:"Planta de interior √∫nica y rara, conocida por sus hojas en forma de coraz√≥n de color verde oscuro con vibrantes variegaciones rosas.",image:"https://res.cloudinary.com/dhvt7ppof/image/upload/v1729903321/Philodendron_zjxlnc.png"},{id:10,name:"Monstera adansonii",price:"$18",description:"Conocida como la planta 'Swiss Cheese', esta hermosa planta trepadora presenta hojas en forma de coraz√≥n con perforaciones √∫nicas.",image:"https://res.cloudinary.com/dhvt7ppof/image/upload/v1729903638/adansoni_lqcont.png"}],j={plants:$};function v(o){for(;o.firstElementChild;)o.removeChild(o.firstElementChild)}function u(o,n){const e=document.querySelector(".restore");if(e&&e.remove(),!n.length){const t=`
        <button class='border-2 px-4 py-2 rounded-sm restore'> restore data </button> 
    `;o.innerHTML=t}for(let t of n){let a=`
        <li class='shadow-xl rounded-lg my-5 card border-0 border-red-400 w-[250px]' > 
            <div>
              <figure class=' relative   size-[200px] border-0 mx-auto '>
                <img src='${t.image}' class=' rounded-lg object-cover block border-0 border-red-400 img  absolute  bottom-0  w-full max-w-full'>
              </figure>

              <section class='bg-slate-200 rounded-tl-3xl rounded-tr-3xl p-4  rounded-b-lg'>
                <p class='text-2xl font-bold  '> ${t.name}</p> 
                <p class='text-gray-400 my-4'> ${t.description}</p> 
                <div class='flex justify-between items-end'>
                  <p class='font-bold'> ${t.price}</p> 
                  <div>
                    <button data-id=${t.id}  class='cursor-pointer ml-4 delete bg-green-100 shadow-lg border-0 border-black rounded-lg p-1'>üóëÔ∏è</button>
                    <button data-id=${t.id}  class='cursor-pointer ml-4 update bg-green-100 shadow-lg border-0 border-black rounded-lg p-1'>üìù</button>
                  </div>
                </div>
              </section>
            </div>
        </li>
    `;o.innerHTML+=a}}function w(o,n,e,t){e=`$${e}`;const a=document.querySelector(".ul"),r=JSON.parse(localStorage.getItem("plants")).plants,m={id:crypto.randomUUID(),name:o,description:n,price:e,image:t};r.unshift(m),localStorage.setItem("plants",JSON.stringify({plants:r})),v(a),u(a,r),console.log(r)}function O(o){const e=JSON.parse(localStorage.getItem("plants")).plants.filter(r=>r.id!=o),t=document.querySelector(".ul"),a={plants:e};localStorage.setItem("plants",JSON.stringify(a)),v(t),u(t,e),console.log(o,e)}function L(){localStorage.setItem("plants",JSON.stringify(j));const o=JSON.parse(localStorage.getItem("plants")).plants,n=document.querySelector(".ul");u(n,o)}function x(o){let e=JSON.parse(localStorage.getItem("plants")).plants.find(l=>l.id==o);document.querySelectorAll(".form div").forEach(l=>{l.classList.contains("error")&&l.classList.remove("error")});const t=l=>document.getElementById(l),a=t("name"),r=t("description"),s=t("price"),m=t("img"),h=t("hidden"),c=t("btnSubmit");e&&(a.value=e.name,r.value=e.description,s.value=e.price.slice(1),m.value=e.image,h.value=e.id,c.textContent="update")}function P(o,n,e,t){return o.validity.valid?o.parentElement.classList.remove("error"):o.parentElement.classList.add("error"),n.checkValidity()?(e=!0,t.disabled=!1):(e=!1,t.disabled=!0),e}const f=document.querySelector(".ul"),S=o=>document.querySelector(o),E=o=>document.querySelectorAll(o),i=o=>document.getElementById(o),I=E(".input");let q=!1,g=!1;const d=S(".form"),N=S(".searchForm"),p=S(".btnSubmit"),y=i("hidden"),b=i("formPopover");window.addEventListener("DOMContentLoaded",()=>{localStorage.getItem("plants")||localStorage.setItem("plants",JSON.stringify(j));const o=JSON.parse(localStorage.getItem("plants")).plants;u(f,o),document.addEventListener("click",n=>{const e=n.target;if(e.matches(".delete")&&confirm("Are you sure to delete this item? ü§®ü§®ü§®")){let a=e.dataset.id;O(a)}if(e.matches(".restore")&&L(),e.matches(".update")&&confirm("Are you sure to update this item? ü§®ü§®ü§®")){let a=e.dataset.id;x(a),b.showPopover()}e.matches(".closePopover")&&(d.reset(),p.disabled=!0)}),I.forEach(n=>{let e=n;e.addEventListener("input",()=>{g=P(e,d,q,p)})}),d.addEventListener("submit",n=>{if(n.preventDefault(),y.value){if(I.forEach(e=>{let t=e;t.addEventListener("input",()=>{g=P(t,d,q,p)})}),g){const e=i("name").value.trim(),t=i("description").value.trim(),a=i("price").value.trim(),r=i("img").value.trim(),s=JSON.parse(localStorage.getItem("plants")).plants,m=y.value,h=s.findIndex(l=>l.id==m),c=s[h];c.name=e,c.description=t,c.price=`$${a}`,c.image=r,localStorage.setItem("plants",JSON.stringify({plants:s})),v(f),u(f,s),d.reset(),p.textContent="create",p.disabled=!0,y.value="",alert("post updated ü•≥ü•≥ü•≥"),b.hidePopover()}return}if(g){const e=i("name").value.trim(),t=i("description").value.trim(),a=i("price").value.trim(),r=i("img").value.trim();w(e,t,a,r),alert("post created ü•≥ü•≥ü•≥"),d.reset(),p.disabled=!0,b.hidePopover()}}),N.addEventListener("submit",n=>{n.preventDefault();const e=i("search").value.trim(),t=o.filter(a=>a.name.toLowerCase().includes(e));t.length>0?(v(f),u(f,t)):alert(`sorry, we do not have plants called ${e} üòîüòîüòî`),console.log(e,t)})});
